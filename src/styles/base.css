@tailwind base;
@tailwind components;
@tailwind utilities;

/* Reset and base styles */
* {
  box-sizing: border-box;
}

html {
  font-size: 16px;
  line-height: 1.6;
  scroll-behavior: smooth;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
  background-color: #faf9f7;
  color: #2f352f;
  transition: background-color 0.3s ease, color 0.3s ease;
}

.dark body {
  background-color: #1a1e1a;
  color: #e3e7e3;
}

@layer base {
  :root {
    --accent: 58 157 58; /* moss-500 */
  }

  /* Focus styles for accessibility */
  *:focus-visible {
    @apply outline-none ring-2 ring-moss-500 ring-offset-2 ring-offset-earth-50 dark:ring-offset-sage-950;
  }

  /* Skip link */
  .skip-link {
    @apply absolute -top-10 left-4 z-50 bg-moss-500 text-white px-3 py-2 rounded text-sm font-medium transition-transform duration-200;
  }

  .skip-link:focus {
    @apply top-4;
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    @apply w-2;
  }

  ::-webkit-scrollbar-track {
    @apply bg-earth-100 dark:bg-sage-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-sage-300 dark:bg-sage-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-sage-400 dark:bg-sage-500;
  }
}

@layer components {
  /* Button styles */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 text-sm font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  .btn-primary {
    @apply bg-moss-500 text-white hover:bg-moss-600 focus:ring-moss-500 shadow-sm hover:shadow-md;
  }

  .btn-secondary {
    @apply bg-earth-200 text-sage-800 hover:bg-earth-300 dark:bg-sage-700 dark:text-sage-200 dark:hover:bg-sage-600 focus:ring-sage-500;
  }

  .btn-ghost {
    @apply text-sage-600 hover:text-sage-900 hover:bg-earth-100 dark:text-sage-400 dark:hover:text-sage-100 dark:hover:bg-sage-800 focus:ring-sage-500;
  }

  /* Card styles */
  .card {
    @apply bg-white dark:bg-sage-900 rounded-xl shadow-sm border border-earth-200 dark:border-sage-700;
  }

  .card-hover {
    @apply transition-all duration-200 hover:shadow-lg hover:scale-[1.01];
  }

  /* Input styles */
  .input {
    @apply w-full px-3 py-2 text-sm border border-earth-300 dark:border-sage-600 rounded-lg bg-white dark:bg-sage-800 text-sage-900 dark:text-sage-100 placeholder-sage-500 dark:placeholder-sage-400 focus:outline-none focus:ring-2 focus:ring-moss-500 focus:border-transparent;
  }

  /* Tag styles */
  .tag {
    @apply inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-earth-100 text-sage-700 dark:bg-sage-700 dark:text-sage-200;
  }

  .tag-accent {
    @apply bg-moss-100 text-moss-800 dark:bg-moss-900 dark:text-moss-200;
  }

  /* Prose enhancements */
  .prose {
    @apply prose-gray dark:prose-invert max-w-none;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6 {
    @apply scroll-mt-20 text-sage-900 dark:text-sage-100;
  }

  .prose a {
    @apply text-moss-600 dark:text-moss-400 no-underline hover:underline;
  }

  .prose code {
    @apply bg-earth-100 dark:bg-sage-800 px-1.5 py-0.5 rounded text-sm font-mono;
  }

  .prose pre {
    @apply bg-sage-900 dark:bg-sage-950;
  }

  .prose pre code {
    @apply bg-transparent p-0;
  }

  /* Callout styles */
  .callout {
    @apply p-4 rounded-lg border-l-4 my-6;
  }

  .callout-info {
    @apply bg-moss-50 dark:bg-moss-900/20 border-moss-500 text-moss-800 dark:text-moss-200;
  }

  .callout-tip {
    @apply bg-moss-50 dark:bg-moss-900/20 border-moss-500 text-moss-800 dark:text-moss-200;
  }

  .callout-warn {
    @apply bg-earth-100 dark:bg-earth-900/20 border-earth-500 text-earth-800 dark:text-earth-200;
  }

  .callout-danger {
    @apply bg-red-50 dark:bg-red-900/20 border-red-500 text-red-800 dark:text-red-200;
  }

  /* Table of Contents */
  .toc {
    @apply space-y-1;
  }

  .toc a {
    @apply block py-1 px-2 text-sm text-sage-600 dark:text-sage-400 hover:text-sage-900 dark:hover:text-sage-100 hover:bg-earth-100 dark:hover:bg-sage-800 rounded;
  }

  .toc a.active {
    @apply text-moss-600 dark:text-moss-400 bg-moss-50 dark:bg-moss-900/20;
  }

  /* Search box */
  .search-box {
    @apply relative;
  }

  .search-results {
    @apply absolute top-full left-0 right-0 mt-1 bg-white dark:bg-sage-800 border border-earth-200 dark:border-sage-700 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50;
  }

  .search-result {
    @apply p-3 hover:bg-earth-50 dark:hover:bg-sage-700 border-b border-earth-100 dark:border-sage-700 last:border-b-0;
  }

  /* Pagination */
  .pagination {
    @apply flex items-center justify-center space-x-2;
  }

  .pagination a,
  .pagination span {
    @apply px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200;
  }

  .pagination a {
    @apply text-sage-700 dark:text-sage-300 hover:bg-earth-100 dark:hover:bg-sage-800;
  }

  .pagination .current {
    @apply bg-moss-500 text-white;
  }

  .pagination .disabled {
    @apply text-sage-400 dark:text-sage-600 cursor-not-allowed;
  }
}